<% content_for(:title, "Batch Form Requests") %>

<div class="container-lg form">
  <div class="row">
    <div class="col-12 col-lg-10 offset-lg-1">
      
      <div class="row">
        <div class="col back-button">
          < <%= link_to "View all forms", forms_path, class: "inline" %>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <h1><%= content_for(:title) %></h1>
          <p class="lead">Create multiple form submissions at once</p>
        </div>
      </div>
      
      <div class="alert alert-info">
        <strong>Batch Form Creation</strong><br>
        Select a form type below to create up to 10 requests of the same type in a single batch submission.
        This is useful for processing multiple similar requests efficiently.
      </div>
      
      <div class="row">
        <div class="col-12">
          <h3>Available Form Types</h3>
          
          <div class="list-group">
            <%= link_to new_batch_request_path(type: 'purchase-request'), 
                        class: "list-group-item list-group-item-action" do %>
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Purchase Requests</h5>
                <small>Batch create book/material purchase requests</small>
              </div>
              <p class="mb-1">Create multiple purchase requests for books, materials, and resources.</p>
            <% end %>
            
            <%= link_to new_batch_request_path(type: 'missing-book'), 
                        class: "list-group-item list-group-item-action" do %>
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Missing Book Reports</h5>
                <small>Batch report missing items</small>
              </div>
              <p class="mb-1">Report multiple missing books or materials in one submission.</p>
            <% end %>
            
            <%= link_to new_batch_request_path(type: 'recall-book'), 
                        class: "list-group-item list-group-item-action" do %>
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Book Recall Requests</h5>
                <small>Batch request book recalls</small>
              </div>
              <p class="mb-1">Request recalls for multiple checked-out books.</p>
            <% end %>
            
            <%= link_to new_batch_request_path(type: 'library-instruction'), 
                        class: "list-group-item list-group-item-action" do %>
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">Library Instruction Requests</h5>
                <small>Batch schedule instruction sessions</small>
              </div>
              <p class="mb-1">Schedule multiple library instruction sessions for different courses.</p>
            <% end %>
          </div>
          
          <div class="mt-4">
            <h4>Custom Form Type</h4>
            <%= form_with url: new_batch_request_path, method: :get, local: true, 
                         class: "form-inline" do |f| %>
              <div class="input-group">
                <%= f.text_field :type, placeholder: "Enter form slug (e.g., custom-form)", 
                                class: "form-control", required: true %>
                <div class="input-group-append">
                  <%= f.submit "Create Batch", class: "btn btn-primary" %>
                </div>
              </div>
              <small class="form-text text-muted">
                Enter the slug of any form type to create batch submissions for it.
              </small>
            <% end %>
          </div>
          
        </div>
      </div>
      
      <div class="mt-4">
        <%= link_to "Back to Homepage", root_path, class: "btn btn-secondary" %>
      </div>
      
    </div>
  </div>
</div>

<style>
.list-group-item-action:hover {
  background-color: #f8f9fa;
}

.input-group {
  max-width: 400px;
}

.back-button {
  margin-bottom: 1rem;
}

.back-button a {
  text-decoration: none;
  color: #007bff;
}

.back-button a:hover {
  text-decoration: underline;
}
</style>
